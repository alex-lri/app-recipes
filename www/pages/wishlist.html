<template>
    <div class="page" data-name="wishlist">
        <div class="navbar">
            <div class="navbar-bg"></div>
            <div class="navbar-inner sliding">
                <div class="title">My Wishlist</div>
            </div>
        </div>
        <div class="page-content">
            <div class="color-theme-black">
                <div class="container">
                    <h2 class="text-align-center">My Wishlist</h2>
                    <div>
                        ${favoriteRecipes.value.map((recipe) => $h`
                        <div class="recipe-container" style="background-image: url(${recipe.thumbUrl});">
                            <div class="mask-img" id="favoriteRecipe">
                                <i class="icon f7-icons if-not-md" id="${recipe.idMeal}">suit_heart_fill</i>
                                <i class="icon material-icons if-md" id="${recipe.idMeal}">suit_heart_fill</i>
                                <h2>${truncateTitle(recipe.name)}</h2>
                                <a class="recipe-btn" href="/recipe-details/${recipe.idMeal}/">Recette</a>
                            </div>
                        </div>
                        `)}
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
    export default (props, {
        $store
    }) => {
        var randomRecipe = props.randomRecipe;
        var randomRecipeThumbUrl = randomRecipe.meals[0].strMealThumb
        var favoriteRecipes = $store.getters.favoriteRecipes;

        $(document).on('click','#favoriteRecipe i',function(e){
            $store.dispatch('removeWishList', this.id)
        });

        return $render;
    }
</script>
